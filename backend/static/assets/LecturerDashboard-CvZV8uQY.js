import{r as t,u as g,R as s,O as h,i as c,a as p}from"./index-DWn6bmYd.js";/* empty css                         */import{N as I}from"./Navbar-DCydfKUn.js";import{S as v}from"./Sidebar-pqAnLTFO.js";import{y as a}from"./index-DleFuWzd.js";import"./logo-CuFHB95l.js";import"./search-at9jTNkc.js";import"./mail-Bx0Ydk2F.js";import"./person-BMtGrJo0.js";const x=()=>{const[n,i]=t.useState([]),[u,r]=t.useState(!0),l=g();t.useEffect(()=>{localStorage.setItem("userRole","lecturer")},[]);const o=async()=>{try{r(!0);const e=await c.getLecturerIssues();i(e)}catch(e){e==="Unauthorized"?d():a.error(e||"Failed to fetch issues")}finally{r(!1)}},m=async e=>{try{await c.resolveIssue(e),await o(),a.success("Issue resolved successfully")}catch(f){a.error(f||"Resolution failed")}},d=()=>{p.logout(),l("/signin")};return t.useEffect(()=>{o()},[]),s.createElement("div",{className:"dashboard-container"},s.createElement(I,null),s.createElement(v,null),s.createElement("div",{className:"dashboard-content"},s.createElement(h,{context:{assignedIssues:n,loading:u,onResolveIssue:m}})))};export{x as default};
