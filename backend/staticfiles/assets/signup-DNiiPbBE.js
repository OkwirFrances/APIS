import{r as c,R as e,a as h}from"./index-DWn6bmYd.js";import f from"./otp-CzYvNheh.js";import{l as N}from"./logo-CuFHB95l.js";import{p as b}from"./person-BMtGrJo0.js";import{m as v}from"./mail-Bx0Ydk2F.js";import{p as S}from"./padlock-sT52jjSD.js";import"./congratulations-C_qT3a2x.js";const I=()=>{const[a,u]=c.useState({fullname:"",email:"",password:"",role:"",termsAccepted:!1}),[p,d]=c.useState(!1),[n,i]=c.useState(""),r=l=>{const{name:t,value:s,type:m,checked:o}=l.target;u({...a,[t]:m==="checkbox"?o:s})},E=()=>{const{fullname:l,email:t,password:s,role:m,termsAccepted:o}=a;return l?t?!s||s.length<8?"Password is required and should be at least 8 characters":m?o?"":"Terms and Conditions must be accepted":"Role is required":"Email is required":"Full Name is required"};c.useEffect(()=>{const l=E();i(l)},[a]);const g=async l=>{if(l.preventDefault(),console.log("Form Data:",a),!n)try{const t=await h.signup(a.email,a.fullname,a.password,a.role);console.log("Signup Successful:",t),d(!0)}catch(t){console.error("Signup Failed:",t),i(t.message||"Unable to connect to the server. Please try again later.")}};return p?e.createElement(f,{email:a.email,onResendOtp:()=>{}}):e.createElement("div",{className:"signup-container"},e.createElement("div",{className:"signup-left"},e.createElement("img",{className:"muk",src:N,alt:"muk logo"}),e.createElement("h1",{className:"system-title"},"Welcome to the",e.createElement("br",null)," Academic Issue Tracking System",e.createElement("br",null)," AITS")),e.createElement("div",{className:"sigup-right"},e.createElement("form",{className:"signup-right-form",onSubmit:g},e.createElement("h2",{className:"title"},"Create An Account"),e.createElement("p",{className:"sub-title"},"Please fill in all the fields below"),n&&e.createElement("p",{className:"error-message"},n),e.createElement("label",null,"Full Name",e.createElement("div",{className:"input-container"},e.createElement("input",{className:"full-name",type:"text",name:"fullname",placeholder:"Enter your Full Name",value:a.fullname,onChange:r}),e.createElement("img",{src:b,alt:"person",className:"person-icon"}))),e.createElement("label",null,"Email Address",e.createElement("div",{className:"input-container"},e.createElement("input",{className:"email-address",type:"email",name:"email",placeholder:"Enter your Email Address",value:a.email,onChange:r}),e.createElement("img",{src:v,alt:"mail",className:"mailicon"}))),e.createElement("label",null,"Password",e.createElement("div",{className:"input-container"},e.createElement("input",{className:"password",type:"password",name:"password",placeholder:"Enter your Password (min - 8 characters)",value:a.password,onChange:r,minLength:8}),e.createElement("img",{src:S,alt:"padlock",className:"padlockicon"}))),e.createElement("label",null,"Role",e.createElement("div",{className:"dropdown"},e.createElement("select",{className:"role-select",name:"role",value:a.role,onChange:r},e.createElement("option",{value:""},"Select Role"),e.createElement("option",{value:"student"},"Student"),e.createElement("option",{value:"lecturer"},"Lecturer"),e.createElement("option",{value:"registrar"},"Registrar")))),e.createElement("label",{className:"terms"},e.createElement("input",{type:"checkbox",className:"terms-checkbox",name:"termsAccepted",checked:a.termsAccepted,onChange:r}),"I have read and accepted all the AITS terms and conditions."),e.createElement("button",{className:"signup-button",type:"submit",disabled:n!==""},"SIGN UP"),e.createElement("p",{className:"signin-text"},"Already have an account? ",e.createElement("a",{href:"signin",className:"signin-link"},"Sign In")))))};export{I as default};
