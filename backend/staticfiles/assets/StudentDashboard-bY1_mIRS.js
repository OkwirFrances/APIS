import{r as s,u as f,R as e,O as p,i as g,a as h}from"./index-DWn6bmYd.js";/* empty css                         */import{N as E}from"./Navbar-DCydfKUn.js";import{S}from"./Sidebar-pqAnLTFO.js";import{y as I}from"./index-DleFuWzd.js";import"./logo-CuFHB95l.js";import"./search-at9jTNkc.js";import"./mail-Bx0Ydk2F.js";import"./person-BMtGrJo0.js";const P=()=>{const[c,i]=s.useState([]),[l,a]=s.useState(!0),m=f();s.useEffect(()=>{localStorage.setItem("userRole","student")},[]);const r=async()=>{var o,n,u;try{a(!0);const t=await g.getIssues();i(t)}catch(t){((o=t.response)==null?void 0:o.status)===401?d():I.error(((u=(n=t.response)==null?void 0:n.data)==null?void 0:u.message)||"Failed to fetch your issues")}finally{a(!1)}},d=()=>{h.logout(),m("/signin")};return s.useEffect(()=>{r()},[]),e.createElement("div",{className:"dashboard-container"},e.createElement(E,null),e.createElement(S,null),e.createElement("div",{className:"dashboard-content"},e.createElement(p,{context:{issues:c,loading:l,onRefresh:r}})))};export{P as default};
